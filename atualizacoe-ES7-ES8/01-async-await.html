<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>01 - Async/Await intro</title>
</head>
<body>
    <script>
            
          async function getPosts(){
              const response = await fetch('https://willianjusten.com.br/search.json')
              const data = await response.json();
                return data.map(post =>{
                        console.log(post.title);
              });
               /* return fetch('https://willianjusten.com.br/search.json')
                    .then(data => data.json())
                    .then(data => data.map(post =>{
                        console.log(post.title)
                 }));*/
            }

        getPosts();

        /*
                         Básico

        - async/await funciona obrigatoriamente no protocolo de Promises
        - async é uma palavra chave usada no início de uma função
        - await é usado para avisar a função para esperar o resultado da Promise
        - await só pode ser usado para uma função com async
        - async/await já está funcionando em quase todos os Browsers e NodeJS
      
        Vantagens de usar async/await
      
        - O código fica mais simplificado
        - Mais fácil de debugar por ter menos callbacks
        - A conversão de uma promise para async/await é bem simples
        - O código fica com menos encadeamentos
        */
    </script>
</body>
</html>